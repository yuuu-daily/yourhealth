<!DOCTYPE html>
<html xmlns:th ="https://www.thymeleaf.org"
	  xmlns:layout="http://www.ultrq.net.nz/thymeleaf/layout"
	  layout:decorator="~{commons/layout}">
<head>
<meta charset="UTF-8">
<title>体重記録画面</title>
<link rel="stylesheet" href="/css/style1.css" th:href="@{/css/style1.css}">
</head>
<body>
	<header th:replace="commons/layout.html :: header"></header>
	<!-- 置き換わる内容 -->
	<div layout:fragment="content">
	  <div align="center">
	  <h2>体重</h2>
		<p>
		<div>
			<label for="weight">体重:</label>
			<!-- <p th:text="${map}"></p> -->
		</div>
		</p>
	  </div>
	</div>
	<script th:inline="javascript">
		const map = new Map(Object.entries(/*[[${map}]]*/));
    	console.log(map);
    	// 全日付の取得後、配列化
    	var ceatedDate = [];
    	var createdDate = map.keys();
    	console.log(createdDate);
    	// 全体重データの取得後、配列化
    	var weightData = [];
    	var weightData = map.values();
    </script>
	<div>
		<canvas id="myChart" width="100" height="100"></canvas>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script>
      const data = {
      labels: Array.from(createdDate),
      datasets: [{
      label: 'My Weightdata',
      backgroundColor: 'rgb(255, 99, 132)',
      borderColor: 'rgb(255, 99, 132)',
      data: Array.from(weightData),
      }]
  	  }; 
	
	  const config = {
		  type: 'line',
		  data: data,
		  options: {}
	  }
	  const ctx = document.getElementById('myChart');
	  const myChart = new Chart(ctx, config);
	</script>
	<footer th:replace="commons/layout.html :: footer"></footer>
</body>
</html>